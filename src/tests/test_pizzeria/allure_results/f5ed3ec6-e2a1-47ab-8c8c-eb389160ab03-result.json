{"name": "test_use_invalid_promo", "status": "failed", "statusDetails": {"message": "AssertionError: assert 300.0 == 270.0", "trace": "self = <src.tests.test_pizzeria.test_pizzeria.TestPizza object at 0x000001DFAC7EC340>\nset_up_browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"5231f8b9ebf2e5721400203f15c47591\")>\n\n    def test_use_invalid_promo(self, set_up_browser):\n        with allure.step('Запуск браузера'):\n            driver = set_up_browser\n            menu_page = MenuPage(driver)\n        with allure.step('Переход на страницу меню'):\n            menu_page.menu_page()\n        with allure.step('Добавление товара в корзину'):\n            menu_page.add_to_cart()\n            WebDriverWait(driver, 3).until(EC.presence_of_element_located((\n                By.XPATH, \"//div[@class='inner']\"\n            )))\n            BucketPage(driver)\n            bucket_page = BucketPage(driver)\n            bucket_page.go_to_bucket()\n            bucket_page.use_coupon('DC120')\n        with allure.step('Проверка применения купона '):\n            original_price = driver.find_element(By.XPATH,\n                                                 \"(//span[@class ='woocommerce-Price-amount amount'])[2]\").text\n            original_price = float(original_price.replace('₽', '').replace(',', '.'))\n            final_price = driver.find_element(By.XPATH, \"(//span[@class ='woocommerce-Price-amount amount'])[3]\").text\n            final_price = float(final_price.replace('₽', '').replace(',', '.'))\n            expected_price = original_price * 0.90\n>           assert final_price == expected_price\nE           assert 300.0 == 270.0\n\ntest_pizzeria.py:83: AssertionError"}, "steps": [{"name": "Запуск браузера", "status": "passed", "start": 1727200297615, "stop": 1727200297615}, {"name": "Переход на страницу меню", "status": "passed", "start": 1727200297615, "stop": 1727200298064}, {"name": "Добавление товара в корзину", "status": "passed", "start": 1727200298064, "stop": 1727200306428}, {"name": "Проверка применения купона ", "status": "failed", "statusDetails": {"message": "AssertionError: assert 300.0 == 270.0\n", "trace": "  File \"C:\\Users\\Kokur\\PycharmProjects\\python-autotests-basic\\Pract2.7\\src\\tests\\test_pizzeria\\test_pizzeria.py\", line 83, in test_use_invalid_promo\n    assert final_price == expected_price\n"}, "start": 1727200306428, "stop": 1727200306463}], "attachments": [{"name": "log", "source": "916c54ed-a1c5-4e50-84a7-a72af8b7a7b2-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "90edc02e-d7f8-450a-a512-8c195edb149a-attachment.txt", "type": "text/plain"}], "start": 1727200297615, "stop": 1727200306464, "uuid": "e81c6d57-faf6-44e5-a69f-4419e7914960", "historyId": "331c5d7f8e5ca0bdf75d88bd9339c810", "testCaseId": "331c5d7f8e5ca0bdf75d88bd9339c810", "fullName": "src.tests.test_pizzeria.test_pizzeria.TestPizza#test_use_invalid_promo", "labels": [{"name": "parentSuite", "value": "src.tests.test_pizzeria"}, {"name": "suite", "value": "test_pizzeria"}, {"name": "subSuite", "value": "TestPizza"}, {"name": "host", "value": "DESKTOP-QG3FM91"}, {"name": "thread", "value": "28736-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "src.tests.test_pizzeria.test_pizzeria"}]}